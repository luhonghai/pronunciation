SELECT L.ID, L.NAME,L.DESCRIPTION, L.ISDEMO, L.ISDEFAULTACTIVATED,  L.COLOR, L.DATECREATED
FROM
COURSE AS C
INNER JOIN COURSEMAPPINGLEVEL as CML on C.ID = CML.IDCOURSE
    INNER JOIN level AS L ON L.ID = CML.IDLEVEL
WHERE C.ID = ? AND CML.[index] < (
  SELECT CML.[index]
FROM   COURSE AS C
INNER JOIN COURSEMAPPINGLEVEL as CML on C.ID = CML.IDCOURSE
    INNER JOIN level AS L ON L.ID = CML.IDLEVEL
  WHERE C.ID = ? AND L.ID = ?
)
ORDER BY CML.[index] DESC LIMIT 1;